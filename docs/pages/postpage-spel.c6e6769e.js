var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequire9600;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequire9600=n);var r=n("2sKvt"),a=n("707ge"),l=n("hgQql"),i=n("5tHFl");a=n("707ge"),l=n("hgQql"),i=n("5tHFl");const c=a.initializeApp(i.firebaseConfig),s=l.getFirestore(c),u=l.collection(s,"post"),d=l.query(u,l.where("category","==",3),l.orderBy("time"));let g=document.querySelector(".user-class"),p=localStorage.getItem("loginName");g.value=localStorage.getItem("loginName"),g.innerHTML=localStorage.getItem("loginName");const f=a.initializeApp(i.firebaseConfig),m=l.getFirestore(f),y=document.querySelector(".user-class").innerHTML,v=document.querySelector(".post-text"),h=document.querySelector(".post-btn");!async function(){(await l.getDocs(d)).forEach((e=>{document.querySelector(".post-list").innerHTML+=`\n    <div class="the-post">\n    <h2 class="postUserName" id=${e.id} value="${e.data().user}">${e.data().user}</h2>\n       <p class="theText">${e.data().text}</p>\n      \n    </div>\n   `}))}(),h.addEventListener("click",(e=>{e.preventDefault(),async function(){const e=new r.Post(y,v.value,3,new Date);try{const t=await l.addDoc(l.collection(m,"post"),{user:e.username,text:e.text,category:e.category,time:e.time});console.log("Document written with ID: ",t.id)}catch(e){console.error("Error adding document: ",e)}}(),v.value=""})),setTimeout((function(){document.querySelectorAll(".postUserName").forEach((e=>{e.getAttribute("value")==p&&(e.innerHTML+='\n        <button class="deleteBtn">X</button>\n        ')})),document.querySelectorAll("button").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),async function(e){await l.deleteDoc(l.doc(m,"post",e))}(e.path[1].id)}))}))}),1e3);
//# sourceMappingURL=postpage-spel.c6e6769e.js.map
